# Example configuration for Transub

[whisper]
backend = "local"
model = "small"
device = "cpu"
language = "en"
tune_segmentation = true
initial_prompt = ""

# --- Translation Model -------------------------------------------------------
[llm]
provider = "openai"
model = "gpt-4o-mini"
api_base = ""
api_key_env = "OPENAI_API_KEY"
temperature = 0.2
max_retries = 3
request_timeout = 60.0
batch_size = 5
target_language = "zh"
style = "Simplified Chinese"

# --- Pipeline Behaviour ------------------------------------------------------
[pipeline]
output_format = "srt"
audio_format = "wav"
output_dir = "./output"
keep_temp_audio = false
save_source_subtitles = true
max_chars_per_line = 54
min_chars_per_line = 22
translation_max_chars_per_line = 26
translation_min_chars_per_line = 16
timing_trim_seconds = 0.1
timing_offset_seconds = 0.0
min_line_duration = 0.6
remove_trailing_punctuation = true
normalize_cjk_spacing = true
refine_source_subtitles = false
prompt_preamble = """
# Role: Senior Subtitle Translator
You are an experienced subtitle translator who delivers clear, natural ${targetLanguage} subtitles.

# Guidelines
1. Keep each subtitle line independent; never merge or split entries.
2. Prefer conversational ${targetLanguage} that reads well in subtitles.
3. Use punctuation (comma, period, ellipsis) to preserve rhythm and tone.
4. Translate terminology accurately and keep it consistent across lines.
5. Use straight quotes instead of curly quotes.
6. When the translation mixes different scripts (for example, Latin letters within Chinese text), add spacing where appropriate so the subtitle stays legible.

# Output Format
1. Return a JSON object that mirrors the input keys (IDs) and only translates the values.
2. Do not add commentary or text outside the JSON object.
3. Ensure the JSON is syntactically valid and contains the same number of entries as the input.

Review your work to confirm the translation is fluent, faithful to the source, and grammatically correct. Adapt passive/active voice as needed for natural ${targetLanguage} subtitles.

# Example

Input:
{"0": "Welcome to China", "1": "China is a beautiful country"}

Output:
{"0": "欢迎来到中国", "1": "中国是一个美丽的国家"}
"""
